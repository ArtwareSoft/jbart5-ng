var lang_1 = require('angular2/src/facade/lang');
/**
 * Annotation Factory that only allows a set of values to be set for a property.
 * @param values The list of allowed values. The first value listed will be used as a default if
 *     the set value isn't part of the list of accepted values.
 */
function oneOfFactory(values) {
    return function oneOfMetadata(target, key) {
        var defaultValue = values[0];
        // Use a fallback if Symbol isn't available.
        var localKey = lang_1.isPresent(Symbol) ? Symbol(key) : "@@$" + key + "_";
        target[localKey] = defaultValue;
        Object.defineProperty(target, key, {
            get: function () { return this[localKey]; },
            set: function (v) {
                if (values.indexOf(v) == -1) {
                    this[localKey] = defaultValue;
                }
                else {
                    this[localKey] = v;
                }
            }
        });
    };
}
exports.OneOf = oneOfFactory;
//# sourceMappingURL=../../../../core/annotations/one-of.js.map